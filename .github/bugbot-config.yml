# Cursor Bugbot Configuration for Adaptive PR Workflow

# Review rules per PR category
review_rules:
  small:
    depth: lightweight
    focus:
      - Critical bugs
      - Security vulnerabilities
      - Obvious logic errors
    ignore:
      - Style issues
      - Minor optimizations
      - Non-critical warnings
    max_comments: 10
    
  medium:
    depth: thorough
    focus:
      - Bugs and logic errors
      - Security issues
      - Best practices violations
      - Code maintainability
      - Test coverage
      - Performance concerns
    ignore:
      - Minor style preferences
    max_comments: 25
    
  large:
    depth: lightweight
    focus:
      - Architectural concerns
      - Design patterns
      - Major security issues
      - Breaking changes
      - API compatibility
    ignore:
      - Implementation details
      - Style issues
      - Minor bugs (will be caught in human review)
    max_comments: 15
    comment_style: high_level

# General settings
settings:
  auto_approve: false  # Never auto-approve, always require human review
  comment_style: friendly  # Tone of comments: friendly, neutral, technical
  suggest_fixes: true  # Provide fix suggestions when possible
  link_to_docs: true  # Link to relevant documentation
  
# Security checks (always enabled regardless of category)
security:
  enabled: true
  checks:
    - sql_injection
    - xss
    - csrf
    - authentication_bypass
    - sensitive_data_exposure
    - insecure_dependencies
    - hardcoded_secrets

# Language-specific rules
languages:
  typescript:
    rules:
      - no-any-without-comment
      - prefer-type-safety
      - check-null-safety
  
  go:
    rules:
      - check-error-handling
      - prefer-context-usage
      - check-goroutine-leaks
  
  javascript:
    rules:
      - avoid-eval
      - check-prototype-pollution
      - prefer-const-over-let

# Grafana-specific rules
grafana_specific:
  - check_frontend_security  # F1-F6 rules from AGENTS.md
  - verify_backend_style_guide
  - check_database_migrations
  - verify_api_compatibility

